{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic Meta Setup -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Paws for Profit</title>

    <!-- Favicon -->
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Stylesheet -->
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
</head>

<!-- ChartJS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Custom JS files -->
<script src="{% static 'js/scripts.js' %}"></script>
<script src="{% static 'js/indices.js' %}"></script>
<script src="{% static 'js/pawfolio.js' %}"></script>

<body>

    <!-- Full Page Container -->
    <div class="container-fluid px-0 h-100">

        <!-- ====================== NAVBAR ====================== -->
        <nav class="navbar navbar-dark card-color navbar-expand-lg">
            <div class="container-fluid d-flex justify-content-between">

                <!-- Logo -->
                <a href="#">
                    <div class="img-wrapper">
                        <img src="{% static 'images/paws_logo.png' %}" alt="Paws Logo" />
                    </div>
                </a>

                <!-- Brand Title -->
                <a class="navbar-brand" href="#">
                    Paws for Profit
                    <span><img src="{% static 'images/paws_tm.png' %}" alt="Trademark" /></span>
                </a>

                <!-- Global Indices -->
                <div id="indices">
                    <div class="index" id="dow"></div>
                    <div class="index" id="sp500"></div>
                    <div class="index" id="nasdaq"></div>
                    <div class="index" id="dax"></div>
                    <div class="index" id="ftse"></div>
                    <div class="index" id="nikkei"></div>
                    <div class="index" id="hangseng"></div>
                </div>

                <!-- Mobile Toggler -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Navbar Links -->
                <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                    <ul class="navbar-nav mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- ====================== MAIN LAYOUT ====================== -->
        <div class="container-fluid paw-container px-0">
            <div class="row paw-row">

                <!-- ========== SIDEBAR ========== -->
                <aside class="col-md-3">
                    <div class="paw-card card-color leaderboard">
                        <h5 class="paw-card-title">Leaderboard</h5>
                        <p class="card-text">Cat-vestors climbing the charts</p>
                        {% for performance in performances %}
                        <a href="#" class="leaderboard-item {% if performance.name == current_entry %}active{% endif %}"
                            data-performance="{{ performance.value.1 }}" data-name="{{ performance.name }}">
                            {{ performance.name }} ({{ performance.value.1|floatformat:2 }}%)
                        </a>
                        {% endfor %}
                    </div>
                </aside>

                <!-- ========== MAIN DASHBOARD AREA ========== -->
                <main class="col-md-9 paw-main">

                    <!-- ----- Header Cards Row ----- -->
                    <div class="row">
                        <div class="col-md-6">
                            <section class="paw-card card-color header-card">
                                <h5 class="paw-card-title">Header Box 1</h5>
                                <p class="card-text">Header content 1</p>
                            </section>
                        </div>
                        <div class="col-md-6">
                            <section class="paw-card card-color header-card">
                                <h5 class="paw-card-title">Header Box 2</h5>
                                <p class="card-text">Header content 2</p>
                            </section>
                        </div>
                    </div>

                    <!-- ----- Pawfolio Main Section ----- -->
                    <div class="col-md-12 pawfolio-main">
                        <div class="row h-100">

                            <!-- Pawfolio Manager Section -->
                            <div class="col-md-4 manager-container">
                                {% include "card_mortimer.html" %}
                                {% include "card_cecil.html" %}
                            </div>

                            <!-- Pawfolio Right Content -->
                            <div class="col-md-8 h-100">
                                <div class="container-fluid card-grid">

                                    <!-- First Row of Cards -->
                                    <div class="row">
                                        <!-- Chart Card -->
                                        <div class="col-md-6 d-flex">
                                            <section class="paw-card card-color flex-fill pawfolio-chart-card">
                                                <h5 class="paw-card-title">Pawfolio Chart</h5>
                                                <p class="card-text">...</p>
                                            </section>
                                        </div>

                                        <!-- Support Summary Card -->
                                        <div class="col-md-6 d-flex">
                                            <section class="paw-card card-color flex-fill">
                                                <div class="card-body">
                                                    <h5 class="paw-card-title">Pawsitive Support</h5>
                                                    <div class="mb-3">
                                                        <div class="d-flex justify-content-between">
                                                            <span>Total</span>
                                                            <span class="fs-5 fw-bold text-purple-glow">€ 230.00</span>
                                                        </div>
                                                        <div class="d-flex justify-content-between">
                                                            <span>Monthly Meow Care</span>
                                                            <span>€ 15.00</span>
                                                        </div>
                                                        <div class="d-flex justify-content-between">
                                                            <span>Since</span>
                                                            <span>March 2024</span>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-purple" data-bs-toggle="modal"
                                                        data-bs-target="#donationsModal">Donation History</button>
                                                    {% include "donations.html" %}
                                                </div>
                                            </section>
                                        </div>
                                    </div>

                                    <!-- Second Row of Cards -->
                                    <div class="row">
                                        <!-- Pawfolio Info -->
                                        <div class="col-md-6 d-flex">
                                            <section class="paw-card card-color pawfolio-info-box flex-fill">
                                                <h5 class="paw-card-title">Pawfolio Performance</h5>
                                                <div class="pawfolio-info">
                                                    <span id="performanceValue"
                                                        data-performance="{{ performances.0.value.1|default:0 }}">0%</span>
                                                    <canvas id="miniChart"></canvas>
                                                </div>
                                            </section>
                                        </div>

                                        <!-- Litter Box -->
                                        <div class="col-md-6 d-flex">
                                            <section class="paw-card card-color litter-box flex-fill">
                                                <h5 class="paw-card-title">Litter Box<span
                                                        class="text-seagreen-glow-1">... where all the business
                                                        happens</span></h5>
                                                <div id="litter-container">
                                                    <div id="litter-buttons">
                                                        <div class="btn btn-sm btn-seagreen">Purr</div>
                                                        <div class="btn btn-sm btn-seagreen">Meow</div>
                                                        <div class="btn btn-sm btn-seagreen">Nap</div>
                                                        <div class="btn btn-sm btn-seagreen">Paw</div>
                                                    </div>
                                                    <div id="litter-image" class="flex-fill">Soon™</div>
                                                </div>
                                            </section>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                </main>

            </div>
        </div>
    </div>

    <!-- Bootstrap Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            miniChart();
            getIndices();
            pawfolioCard();
        });
    </script>

</body>

</html>
